#!/usr/bin/python
from scipy.signal import resample_poly, resample

option = 2

if option == 1:
	# 1024 tap, 1/128 bw
	taps = [-0.0007503488122624189, -2.5417923584721506e-05, -2.585988627968071e-05, -2.6039292028440566e-05, -2.6371039214931502e-05, -2.643105853087736e-05, -2.6663509733229332e-05, -2.6609013874394135e-05, -2.676428672703094e-05, -2.660128036011482e-05, -2.670858974528943e-05, -2.6426396470828387e-05, -2.651406832040211e-05, -2.601237128898199e-05, -2.607400996291202e-05, -2.4487540315937894e-05, -2.3560148271585563e-05, -2.4094772854216896e-05, -2.27809383733571e-05, -2.2265309346506708e-05, -2.1158955094875065e-05, -2.0363674155877554e-05, -1.917298529196488e-05, -1.815545513172494e-05, -1.6810754475384827e-05, -1.5565448512995387e-05, -1.4010303581192944e-05, -1.2512195978104841e-05, -1.0703716537150507e-05, -8.980035355631853e-06, -6.993586950268546e-06, -5.489423007886539e-06, -3.1078519938596213e-06, -9.170984151041653e-07, 1.3431789235453816e-06, 3.7769458634469092e-06, 6.321492002107435e-06, 8.991364672945935e-06, 1.1803963123248269e-05, 1.4729595634435597e-05, 1.7808056317068992e-05, 2.0983110862098207e-05, 2.4306399942965414e-05, 2.770307673781465e-05, 3.125645039843126e-05, 3.48967362021819e-05, 3.881988813112887e-05, 4.2897709902212575e-05, 4.685866401675427e-05, 5.120581531029405e-05, 5.558621292263709e-05, 6.015884262418812e-05, 6.48405013713775e-05, 6.968910043166013e-05, 7.465359628805512e-05, 7.977776551058509e-05, 8.502261265877233e-05, 9.043756883021243e-05, 9.598710839848161e-05, 0.00010173044001576935, 0.00010760123755527367, 0.00011364913587523437, 0.00011971040182553501, 0.00012606375794560256, 0.00013255585858681408, 0.00013911923213793994, 0.00014589452973845155, 0.00015277216749359386, 0.0001598282434572315, 0.00016700815924327225, 0.00017436127360441963, 0.00018184935015126786, 0.00018950482454356196, 0.00019729015396534948, 0.00020522362541533926, 0.00021327325812791806, 0.0002214729285937818, 0.00022982716275846233, 0.0002383722415304212, 0.0002469263591185154, 0.000255719051200208, 0.0002646027912498837, 0.0002736386670349055, 0.00028279485977035837, 0.00029209348079239634, 0.0003015049351657743, 0.00031104826755264326, 0.0003206927218682039, 0.0003304639423004727, 0.0003403352942566821, 0.00035034333754025907, 0.0003604488744726728, 0.00037067610672457987, 0.0003809457626081826, 0.0003913618724099812, 0.0004018904864644524, 0.00041246063878932414, 0.00042315419779516005, 0.00043390524245147285, 0.00044474386685030106, 0.0004556422963023141, 0.0004666156646665779, 0.00047764821080648615, 0.0004887490401024859, 0.0004999002937210892, 0.0005111023584473377, 0.0005223330253133598, 0.0005336057329366116, 0.0005449146464339263, 0.0005562831269258435, 0.0005676083305336653, 0.0005789866146172264, 0.0005903654462230776, 0.0006017389972211924, 0.0006131173156262839, 0.0006244824528309072, 0.0006358374235698789, 0.0006471667454428761, 0.0006584660353829107, 0.0006697245490681641, 0.0006809392614682176, 0.0006921090654726538, 0.0007032258895091179, 0.0007142774031457298, 0.0007252351525838145, 0.0007361202150818626, 0.0007469487815920569, 0.0007576422515042498, 0.0007682661285671974, 0.000778763107826067, 0.0007891538701389999, 0.0007994080677982698, 0.0008095356078654233, 0.0008195145638630002, 0.0008293537430962765, 0.0008390298636323393, 0.0008485463889045014, 0.0008578741483865662, 0.0008670260200181507, 0.0008759844076396774, 0.0008847710608648763, 0.0008933134816373782, 0.0009016581320650871, 0.0009097805005416858, 0.0009176582894392625, 0.000925302062818967, 0.0009326908940415076, 0.0009398258680221386, 0.0009466920049235756, 0.0009532824123742609, 0.0009595854368041113, 0.0009655949869121749, 0.0009713070541467812, 0.0009767150952862923, 0.0009818045915026595, 0.0009865566883277073, 0.0009909707071872813, 0.0009950651001382977, 0.0009987801341899444, 0.0010021533458901457, 0.0010051528643133627, 0.0010077796838184514, 0.0010100208501803883, 0.0010118706333439335, 0.0010133206511790448, 0.001014367294848486, 0.0010150005854450725, 0.0010152139237982823, 0.001014990705330963, 0.0010143307589739934, 0.0010132274916955762, 0.0010116887003467766, 0.0010096764280091055, 0.0010072030761385982, 0.0010042721355782622, 0.0010008493145726317, 0.0009969553391277885, 0.0009925649300975782, 0.000987687843879017, 0.000982306679058208, 0.0009764235020423473, 0.0009700234542538955, 0.0009631093238664224, 0.0009556730806471751, 0.000947720420686128, 0.0009392352733892784, 0.0009302148443422365, 0.000920648583267824, 0.0009105622279898756, 0.0008999104175734688, 0.0008887215342886271, 0.0008769796688783658, 0.0008646843873839747, 0.0008518327193096796, 0.0008384212995489993, 0.0008244491717254726, 0.0008099177003210297, 0.0007948248935416982, 0.0007791709868184667, 0.0007629475517326403, 0.0007461580979911452, 0.0007288030468258552, 0.0007108922789159008, 0.0006924085875886983, 0.000673357887414899, 0.000653757506130731, 0.0006335828572302278, 0.0006128571259441963, 0.0005915692282835444, 0.0005697315442169615, 0.0005473414639311505, 0.0005244047519828607, 0.0005009198400556129, 0.00047689300151826716, 0.00045232788510207413, 0.00042723581867867806, 0.0004016149183992957, 0.0003754705074259018, 0.00034880300301698723, 0.00032163916390713106, 0.0002939599142915859, 0.0002657859808123245, 0.00023712607691593667, 0.00020797930900638288, 0.00017836161460471132, 0.0001482721422909161, 0.00011772603746354631, 8.672894972980678e-05, 5.529544383482467e-05, 2.3431986863540552e-05, -8.852372942842587e-06, -4.155000547507367e-05, -7.464416175409845e-05, -0.00010812214417300386, -0.00014197729286778506, -0.00017620425119744073, -0.00021076924629621086, -0.0002456855715295819, -0.00028092169644271904, -0.0003164753358170318, -0.0003523248031224727, -0.00038845932080974375, -0.00042486202310916744, -0.0004615223657911975, -0.0004984231672109497, -0.0005355506651924097, -0.000572882040356499, -0.0006104072850190132, -0.0006481087110884802, -0.0006859754011720075, -0.0007239741921838205, -0.0007621039323534638, -0.0008003418086937283, -0.0008386620383612206, -0.0008770566801640033, -0.0009154975223524617, -0.0009539744659446783, -0.0009924628655797825, -0.0010309458790373695, -0.0010693996167377255, -0.001107805619754393, -0.0011461445506457623, -0.001184398653872016, -0.0012225420025121594, -0.0012605527745566084, -0.0012984108896662292, -0.0013361026835081702, -0.0013735877969949838, -0.0014108628212320864, -0.0014478954280854634, -0.0014846671800528293, -0.0015211546056344391, -0.0015573321794215417, -0.0015931793455793465, -0.001628672297593134, -0.0016637900443280298, -0.0016985076684715667, -0.0017327986141035699, -0.0017666405639020564, -0.001800011985564998, -0.0018328907238237225, -0.0018652447793622226, -0.0018970564758933716, -0.0019283063066735766, -0.0019589566417564344, -0.0019889969569910214, -0.0020183912573484186, -0.002047125231585934, -0.002075168732933124, -0.0021025012560920123, -0.002129093924531652, -0.0021549247562115655, -0.002179968832134361, -0.0022042068381520905, -0.002227608965506731, -0.0022501529263439313, -0.0022718129636534316, -0.002292574663627095, -0.002312397955683112, -0.002331272577335077, -0.0023491701068771758, -0.002366067295386531, -0.002381943539448216, -0.002396770923665939, -0.0024105302816812006, -0.0024231972582200506, -0.002434752392125944, -0.0024451724135958535, -0.0024544330844288253, -0.0024625128979932948, -0.0024693928332883298, -0.002475052220793124, -0.002479465347101105, -0.002482613309152051, -0.002484483714026259, -0.0024850431589075388, -0.0024842837110125534, -0.00248217703788506, -0.0024787107054291364, -0.0024738638642740397, -0.0024676191222128448, -0.002459957183708606, -0.0024508598727945026, -0.0024403109961389545, -0.0024282967550334025, -0.002414797759852035, -0.0023997983557216304, -0.002383282863242101, -0.002365243179454235, -0.0023456544065047235, -0.002324508566909828, -0.0023017940965854434, -0.002277492923328114, -0.002251599778162255, -0.0022240946143504458, -0.0021949720491222196, -0.0021642172832610357, -0.0021318246859347873, -0.0020977825587233916, -0.0020620817666167084, -0.0020247119144109105, -0.00198566944245357, -0.0019449453741328488, -0.0019025319090467494, -0.0018584204546846336, -0.0018126160320407416, -0.0017651007439252629, -0.001715880380441058, -0.0016649445056653707, -0.0016122942528949656, -0.0015579275265727997, -0.0015018421679621778, -0.0014440376650421529, -0.0013845121128857165, -0.0013232669496099872, -0.0012603057084002803, -0.001195627844837448, -0.0011292354883264417, -0.001061131775551662, -0.0009913258117186547, -0.0009198154457377751, -0.0008466072907191265, -0.0007717126363564345, -0.0006951311921852495, -0.0006168786972810522, -0.0005369553379928879, -0.0004553750817624178, -0.0003721442875010493, -0.0002872762824365923, -0.00020078151578003094, -0.0001126709793446056, -2.2955665367559595e-05, 6.834764799946253e-05, 0.00016122619757932542, 0.00025566606421577255, 0.0003516549272523454, 0.0004491674663646821, 0.0005481963953849054, 0.0006487187106290584, 0.0007507188381114647, 0.0008541785181629053, 0.0009590743548415509, 0.0010653898712270806, 0.001173100805653506, 0.0012821893520630289, 0.001392630828706028, 0.0015044015585520913, 0.0016174781996842731, 0.0017318387761324225, 0.0018474566823263223, 0.0019643039493243792, 0.002082356911804318, 0.002201592064854035, 0.0023219738990210843, 0.0024434830176290915, 0.0025660817805551717, 0.0026897484529818517, 0.0028144488759542043, 0.0029401550116534884, 0.0030668341111168966, 0.0031944542603593072, 0.0033229843360062846, 0.0034523933475610054, 0.003582644828203205, 0.0037137061837379096, 0.0038455436131876034, 0.003978125843193026, 0.004111409845979618, 0.004245366234681964, 0.004379956789048086, 0.004515144365917868, 0.0046508955959722945, 0.004787167315412974, 0.004923926979375029, 0.005061132219100497, 0.005198748565581877, 0.005336735211261266, 0.005475052241038194, 0.005613660013867902, 0.005752521346904166, 0.005891594177000698, 0.006030836575064429, 0.006170208311877113, 0.006309673530431067, 0.006449183036140998, 0.006588703140799386, 0.006728185260489249, 0.006867592533878026, 0.007006881562880752, 0.007146009942209711, 0.00728493651955869, 0.007423616288566643, 0.007562009212829386, 0.007700073238319415, 0.007837763912126674, 0.007975038159720678, 0.008111854883671842, 0.00824817360102706, 0.008383946693887182, 0.008519133721024976, 0.008653693758777765, 0.00878758022336934, 0.00892075694697644, 0.009053173903856345, 0.009184795088570001, 0.009315573501206193, 0.009445471006506605, 0.00957444432220768, 0.009702451044321948, 0.009829449179847129, 0.00995540066603288, 0.010080262356978073, 0.01020399272208351, 0.010326550118475488, 0.010447900154286972, 0.010567995593932395, 0.010686802858108782, 0.010804277981235686, 0.010920384212917232, 0.011035084226098314, 0.011148337165534658, 0.011260108597792584, 0.011370357074883906, 0.01147904875866466, 0.011586147309675224, 0.011691615566044299, 0.011795416583202809, 0.01189751746776013, 0.011997885138525071, 0.012096482885011736, 0.01219327675030541, 0.01228823791683379, 0.012381328500017344, 0.012472524038115614, 0.012561785935739657, 0.01264908928130397, 0.012734400636847077, 0.012817692847779573, 0.012898937788463582, 0.01297810551335854, 0.013055168935078333, 0.013130104181053264, 0.013202884351322261, 0.013273483192054139, 0.013341875237614502, 0.013408041822320499, 0.013471954984236126, 0.013533595753988794, 0.01359294130129441, 0.013649969846169908, 0.013704665796078175, 0.013757004858914878, 0.013806974238314607, 0.013854551264389158, 0.01389972286909338, 0.013942473366150135, 0.013982787366758695, 0.014020648413691194, 0.014056045902311553, 0.014088968049029642, 0.01411940243007242, 0.014147335753556596, 0.014172763612337613, 0.014195670936046588, 0.014216056674416434, 0.014233907324004421, 0.014249220551873417, 0.014261989559622632, 0.014272209538657977, 0.014279879541430517, 0.014284993297404977, 0.014287549687380018, 0.014287549687380018, 0.014284993297404977, 0.014279879541430517, 0.014272209538657977, 0.014261989559622632, 0.014249220551873417, 0.014233907324004421, 0.014216056674416434, 0.014195670936046588, 0.014172763612337613, 0.014147335753556596, 0.01411940243007242, 0.014088968049029642, 0.014056045902311553, 0.014020648413691194, 0.013982787366758695, 0.013942473366150135, 0.01389972286909338, 0.013854551264389158, 0.013806974238314607, 0.013757004858914878, 0.013704665796078175, 0.013649969846169908, 0.01359294130129441, 0.013533595753988794, 0.013471954984236126, 0.013408041822320499, 0.013341875237614502, 0.013273483192054139, 0.013202884351322261, 0.013130104181053264, 0.013055168935078333, 0.01297810551335854, 0.012898937788463582, 0.012817692847779573, 0.012734400636847077, 0.01264908928130397, 0.012561785935739657, 0.012472524038115614, 0.012381328500017344, 0.01228823791683379, 0.01219327675030541, 0.012096482885011736, 0.011997885138525071, 0.01189751746776013, 0.011795416583202809, 0.011691615566044299, 0.011586147309675224, 0.01147904875866466, 0.011370357074883906, 0.011260108597792584, 0.011148337165534658, 0.011035084226098314, 0.010920384212917232, 0.010804277981235686, 0.010686802858108782, 0.010567995593932395, 0.010447900154286972, 0.010326550118475488, 0.01020399272208351, 0.010080262356978073, 0.00995540066603288, 0.009829449179847129, 0.009702451044321948, 0.00957444432220768, 0.009445471006506605, 0.009315573501206193, 0.009184795088570001, 0.009053173903856345, 0.00892075694697644, 0.00878758022336934, 0.008653693758777765, 0.008519133721024976, 0.008383946693887182, 0.00824817360102706, 0.008111854883671842, 0.007975038159720678, 0.007837763912126674, 0.007700073238319415, 0.007562009212829386, 0.007423616288566643, 0.00728493651955869, 0.007146009942209711, 0.007006881562880752, 0.006867592533878026, 0.006728185260489249, 0.006588703140799386, 0.006449183036140998, 0.006309673530431067, 0.006170208311877113, 0.006030836575064429, 0.005891594177000698, 0.005752521346904166, 0.005613660013867902, 0.005475052241038194, 0.005336735211261266, 0.005198748565581877, 0.005061132219100497, 0.004923926979375029, 0.004787167315412974, 0.0046508955959722945, 0.004515144365917868, 0.004379956789048086, 0.004245366234681964, 0.004111409845979618, 0.003978125843193026, 0.0038455436131876034, 0.0037137061837379096, 0.003582644828203205, 0.0034523933475610054, 0.0033229843360062846, 0.0031944542603593072, 0.0030668341111168966, 0.0029401550116534884, 0.0028144488759542043, 0.0026897484529818517, 0.0025660817805551717, 0.0024434830176290915, 0.0023219738990210843, 0.002201592064854035, 0.002082356911804318, 0.0019643039493243792, 0.0018474566823263223, 0.0017318387761324225, 0.0016174781996842731, 0.0015044015585520913, 0.001392630828706028, 0.0012821893520630289, 0.001173100805653506, 0.0010653898712270806, 0.0009590743548415509, 0.0008541785181629053, 0.0007507188381114647, 0.0006487187106290584, 0.0005481963953849054, 0.0004491674663646821, 0.0003516549272523454, 0.00025566606421577255, 0.00016122619757932542, 6.834764799946253e-05, -2.2955665367559595e-05, -0.0001126709793446056, -0.00020078151578003094, -0.0002872762824365923, -0.0003721442875010493, -0.0004553750817624178, -0.0005369553379928879, -0.0006168786972810522, -0.0006951311921852495, -0.0007717126363564345, -0.0008466072907191265, -0.0009198154457377751, -0.0009913258117186547, -0.001061131775551662, -0.0011292354883264417, -0.001195627844837448, -0.0012603057084002803, -0.0013232669496099872, -0.0013845121128857165, -0.0014440376650421529, -0.0015018421679621778, -0.0015579275265727997, -0.0016122942528949656, -0.0016649445056653707, -0.001715880380441058, -0.0017651007439252629, -0.0018126160320407416, -0.0018584204546846336, -0.0019025319090467494, -0.0019449453741328488, -0.00198566944245357, -0.0020247119144109105, -0.0020620817666167084, -0.0020977825587233916, -0.0021318246859347873, -0.0021642172832610357, -0.0021949720491222196, -0.0022240946143504458, -0.002251599778162255, -0.002277492923328114, -0.0023017940965854434, -0.002324508566909828, -0.0023456544065047235, -0.002365243179454235, -0.002383282863242101, -0.0023997983557216304, -0.002414797759852035, -0.0024282967550334025, -0.0024403109961389545, -0.0024508598727945026, -0.002459957183708606, -0.0024676191222128448, -0.0024738638642740397, -0.0024787107054291364, -0.00248217703788506, -0.0024842837110125534, -0.0024850431589075388, -0.002484483714026259, -0.002482613309152051, -0.002479465347101105, -0.002475052220793124, -0.0024693928332883298, -0.0024625128979932948, -0.0024544330844288253, -0.0024451724135958535, -0.002434752392125944, -0.0024231972582200506, -0.0024105302816812006, -0.002396770923665939, -0.002381943539448216, -0.002366067295386531, -0.0023491701068771758, -0.002331272577335077, -0.002312397955683112, -0.002292574663627095, -0.0022718129636534316, -0.0022501529263439313, -0.002227608965506731, -0.0022042068381520905, -0.002179968832134361, -0.0021549247562115655, -0.002129093924531652, -0.0021025012560920123, -0.002075168732933124, -0.002047125231585934, -0.0020183912573484186, -0.0019889969569910214, -0.0019589566417564344, -0.0019283063066735766, -0.0018970564758933716, -0.0018652447793622226, -0.0018328907238237225, -0.001800011985564998, -0.0017666405639020564, -0.0017327986141035699, -0.0016985076684715667, -0.0016637900443280298, -0.001628672297593134, -0.0015931793455793465, -0.0015573321794215417, -0.0015211546056344391, -0.0014846671800528293, -0.0014478954280854634, -0.0014108628212320864, -0.0013735877969949838, -0.0013361026835081702, -0.0012984108896662292, -0.0012605527745566084, -0.0012225420025121594, -0.001184398653872016, -0.0011461445506457623, -0.001107805619754393, -0.0010693996167377255, -0.0010309458790373695, -0.0009924628655797825, -0.0009539744659446783, -0.0009154975223524617, -0.0008770566801640033, -0.0008386620383612206, -0.0008003418086937283, -0.0007621039323534638, -0.0007239741921838205, -0.0006859754011720075, -0.0006481087110884802, -0.0006104072850190132, -0.000572882040356499, -0.0005355506651924097, -0.0004984231672109497, -0.0004615223657911975, -0.00042486202310916744, -0.00038845932080974375, -0.0003523248031224727, -0.0003164753358170318, -0.00028092169644271904, -0.0002456855715295819, -0.00021076924629621086, -0.00017620425119744073, -0.00014197729286778506, -0.00010812214417300386, -7.464416175409845e-05, -4.155000547507367e-05, -8.852372942842587e-06, 2.3431986863540552e-05, 5.529544383482467e-05, 8.672894972980678e-05, 0.00011772603746354631, 0.0001482721422909161, 0.00017836161460471132, 0.00020797930900638288, 0.00023712607691593667, 0.0002657859808123245, 0.0002939599142915859, 0.00032163916390713106, 0.00034880300301698723, 0.0003754705074259018, 0.0004016149183992957, 0.00042723581867867806, 0.00045232788510207413, 0.00047689300151826716, 0.0005009198400556129, 0.0005244047519828607, 0.0005473414639311505, 0.0005697315442169615, 0.0005915692282835444, 0.0006128571259441963, 0.0006335828572302278, 0.000653757506130731, 0.000673357887414899, 0.0006924085875886983, 0.0007108922789159008, 0.0007288030468258552, 0.0007461580979911452, 0.0007629475517326403, 0.0007791709868184667, 0.0007948248935416982, 0.0008099177003210297, 0.0008244491717254726, 0.0008384212995489993, 0.0008518327193096796, 0.0008646843873839747, 0.0008769796688783658, 0.0008887215342886271, 0.0008999104175734688, 0.0009105622279898756, 0.000920648583267824, 0.0009302148443422365, 0.0009392352733892784, 0.000947720420686128, 0.0009556730806471751, 0.0009631093238664224, 0.0009700234542538955, 0.0009764235020423473, 0.000982306679058208, 0.000987687843879017, 0.0009925649300975782, 0.0009969553391277885, 0.0010008493145726317, 0.0010042721355782622, 0.0010072030761385982, 0.0010096764280091055, 0.0010116887003467766, 0.0010132274916955762, 0.0010143307589739934, 0.001014990705330963, 0.0010152139237982823, 0.0010150005854450725, 0.001014367294848486, 0.0010133206511790448, 0.0010118706333439335, 0.0010100208501803883, 0.0010077796838184514, 0.0010051528643133627, 0.0010021533458901457, 0.0009987801341899444, 0.0009950651001382977, 0.0009909707071872813, 0.0009865566883277073, 0.0009818045915026595, 0.0009767150952862923, 0.0009713070541467812, 0.0009655949869121749, 0.0009595854368041113, 0.0009532824123742609, 0.0009466920049235756, 0.0009398258680221386, 0.0009326908940415076, 0.000925302062818967, 0.0009176582894392625, 0.0009097805005416858, 0.0009016581320650871, 0.0008933134816373782, 0.0008847710608648763, 0.0008759844076396774, 0.0008670260200181507, 0.0008578741483865662, 0.0008485463889045014, 0.0008390298636323393, 0.0008293537430962765, 0.0008195145638630002, 0.0008095356078654233, 0.0007994080677982698, 0.0007891538701389999, 0.000778763107826067, 0.0007682661285671974, 0.0007576422515042498, 0.0007469487815920569, 0.0007361202150818626, 0.0007252351525838145, 0.0007142774031457298, 0.0007032258895091179, 0.0006921090654726538, 0.0006809392614682176, 0.0006697245490681641, 0.0006584660353829107, 0.0006471667454428761, 0.0006358374235698789, 0.0006244824528309072, 0.0006131173156262839, 0.0006017389972211924, 0.0005903654462230776, 0.0005789866146172264, 0.0005676083305336653, 0.0005562831269258435, 0.0005449146464339263, 0.0005336057329366116, 0.0005223330253133598, 0.0005111023584473377, 0.0004999002937210892, 0.0004887490401024859, 0.00047764821080648615, 0.0004666156646665779, 0.0004556422963023141, 0.00044474386685030106, 0.00043390524245147285, 0.00042315419779516005, 0.00041246063878932414, 0.0004018904864644524, 0.0003913618724099812, 0.0003809457626081826, 0.00037067610672457987, 0.0003604488744726728, 0.00035034333754025907, 0.0003403352942566821, 0.0003304639423004727, 0.0003206927218682039, 0.00031104826755264326, 0.0003015049351657743, 0.00029209348079239634, 0.00028279485977035837, 0.0002736386670349055, 0.0002646027912498837, 0.000255719051200208, 0.0002469263591185154, 0.0002383722415304212, 0.00022982716275846233, 0.0002214729285937818, 0.00021327325812791806, 0.00020522362541533926, 0.00019729015396534948, 0.00018950482454356196, 0.00018184935015126786, 0.00017436127360441963, 0.00016700815924327225, 0.0001598282434572315, 0.00015277216749359386, 0.00014589452973845155, 0.00013911923213793994, 0.00013255585858681408, 0.00012606375794560256, 0.00011971040182553501, 0.00011364913587523437, 0.00010760123755527367, 0.00010173044001576935, 9.598710839848161e-05, 9.043756883021243e-05, 8.502261265877233e-05, 7.977776551058509e-05, 7.465359628805512e-05, 6.968910043166013e-05, 6.48405013713775e-05, 6.015884262418812e-05, 5.558621292263709e-05, 5.120581531029405e-05, 4.685866401675427e-05, 4.2897709902212575e-05, 3.881988813112887e-05, 3.48967362021819e-05, 3.125645039843126e-05, 2.770307673781465e-05, 2.4306399942965414e-05, 2.0983110862098207e-05, 1.7808056317068992e-05, 1.4729595634435597e-05, 1.1803963123248269e-05, 8.991364672945935e-06, 6.321492002107435e-06, 3.7769458634469092e-06, 1.3431789235453816e-06, -9.170984151041653e-07, -3.1078519938596213e-06, -5.489423007886539e-06, -6.993586950268546e-06, -8.980035355631853e-06, -1.0703716537150507e-05, -1.2512195978104841e-05, -1.4010303581192944e-05, -1.5565448512995387e-05, -1.6810754475384827e-05, -1.815545513172494e-05, -1.917298529196488e-05, -2.0363674155877554e-05, -2.1158955094875065e-05, -2.2265309346506708e-05, -2.27809383733571e-05, -2.4094772854216896e-05, -2.3560148271585563e-05, -2.4487540315937894e-05, -2.607400996291202e-05, -2.601237128898199e-05, -2.651406832040211e-05, -2.6426396470828387e-05, -2.670858974528943e-05, -2.660128036011482e-05, -2.676428672703094e-05, -2.6609013874394135e-05, -2.6663509733229332e-05, -2.643105853087736e-05, -2.6371039214931502e-05, -2.6039292028440566e-05, -2.585988627968071e-05, -2.5417923584721506e-05, -0.0007503488122624189]

	nTaps = 1024
	depthOrder = 10
	coeffBits = 18
	entityName = 'windowMultiply1024'

if option == 2:
	# 508 tap, 1/32 bw
	taps = [9.824728598345879e-06, -4.8729383376122236e-06, -4.658045197330031e-06, -4.95334004980347e-06, -5.630815951783226e-06, -6.624918865044291e-06, -7.889250609121168e-06, -9.410751706610872e-06, -1.1175657317622391e-05, -1.3192773430652133e-05, -1.5461311470961426e-05, -1.7999534739111e-05, -2.08111343653397e-05, -2.391911543272609e-05, -2.7327653836455885e-05, -3.106325462603091e-05, -3.5127379045951525e-05, -3.9551866009495555e-05, -4.432800053974478e-05, -4.9504769343878154e-05, -5.5049036511914465e-05, -6.101666766354836e-05, -6.741273186356916e-05, -7.420871054394128e-05, -8.145920541335811e-05, -8.916156578986489e-05, -9.732098790840929e-05, -0.00010592953167008798, -0.00011499960238613648, -0.0001245326283293516, -0.00013453516530052142, -0.00014500106192873673, -0.0001559272708763925, -0.00016730326288356807, -0.00017912116790856248, -0.00019136796043468655, -0.0002040301527045332, -0.0002170908802727957, -0.00023052970488306057, -0.00024432297656738327, -0.00025844941646133347, -0.00027286740200684225, -0.00028756343567497994, -0.0003024842389833701, -0.0003175986068770933, -0.00033286628283542833, -0.00034824206083327507, -0.0003636714730907177, -0.00037910801434725355, -0.00039449686343574113, -0.0004097825852050697, -0.00042490033982944646, -0.00043978878543547863, -0.0004543807756507734, -0.0004686116616885506, -0.0004824086514676552, -0.000495700893003096, -0.0005084096658755629, -0.0005204623890807754, -0.0005317756111437639, -0.0005422780544034942, -0.0005518826847558276, -0.0005605138284191173, -0.0005680903881190914, -0.0005745280312631689, -0.0005797487461952014, -0.0005836740308834696, -0.000586222389538032, -0.0005873177766509932, -0.0005868861412606574, -0.0005848555869165053, -0.0005811541601575636, -0.0005757158811241985, -0.0005684777268323102, -0.0005593823709103101, -0.0005483737762666043, -0.0005354033313789778, -0.0005204252566628187, -0.0005034039168577735, -0.00048430605225522423, -0.000463107021208338, -0.0004397892925832344, -0.0004143388635571406, -0.00038675663440899033, -0.0003570460096152692, -0.0003252209156214525, -0.00029130552619741247, -0.00025533094137095657, -0.00021733694407269585, -0.000177375187541119, -0.00013550655086084232, -9.180099440090271e-05, -4.633868409715177e-05, 7.88903452670724e-07, 4.94804635219815e-05, 9.962521016964298e-05, 0.0001511023941296525, 0.0002037801556877916, 0.0002575173849884562, 0.0003121612704730071, 0.0003675535501186848, 0.0004235218135085702, 0.0004798888323513912, 0.0005364659720687398, 0.000593056317451037, 0.0006494577135775856, 0.0007054591516462241, 0.0007608423435857977, 0.0008153846272593265, 0.0008688567684746665, 0.0009210247080464222, 0.0009716511624634276, 0.001020496504714217, 0.0010673176042479264, 0.001111870097936578, 0.0011539090380505452, 0.001193191066542541, 0.0012294725678956178, 0.0012625140208967665, 0.001292077691634767, 0.0013179324657657018, 0.001339852020685212, 0.0013576153019868428, 0.0013710115270009595, 0.0013798362613040994, 0.001383896943251713, 0.001383012199037026, 0.0013770115215060877, 0.001365738120472631, 0.0013490505795957736, 0.0013268218251929755, 0.0012989415749727153, 0.0012653171487637257, 0.0012258740974081964, 0.00118055673284575, 0.0011293300043333098, 0.0010721803172798212, 0.0010091154319575473, 0.0009401649367092066, 0.0008653824629454943, 0.000784843867595921, 0.0006986516869906381, 0.0006069300784739117, 0.0005098302404655923, 0.0004075280740447332, 0.000300224374753822, 0.0001881459711476104, 7.154505492444414e-05, -4.9301919756571504e-05, -0.00017409155571845365, -0.00030249624475853687, -0.00043416394930869377, -0.000568718842434148, -0.000705760925274158, -0.0008448681831663669, -0.0009855960333288306, -0.0011274791565264585, -0.0012700312710060401, -0.0014127487242166668, -0.0015551080944712647, -0.001696570740309908, -0.001836581486791034, -0.0019745719697465683, -0.002109962264446582, -0.0022421604213003514, -0.002370566047236584, -0.00249457182597097, -0.002613563982195096, -0.0027269262238087265, -0.002834040135533858, -0.0029342873301869236, -0.003027052253804439, -0.0031117240585809137, -0.0031876976484896714, -0.0032543767737191354, -0.0033111758398641803, -0.0033575226196335462, -0.003392859209565906, -0.003416645621806906, -0.003428360807189752, -0.0034275044895075595, -0.0034136007864180563, -0.0033861981461099314, -0.003344873596070147, -0.003289232874368183, -0.003218912284733315, -0.0031335821219774726, -0.003032946993671481, -0.0029167474742208435, -0.0027847626182153215, -0.002636809993070706, -0.002472747925813044, -0.0022924769248410543, -0.002095940146321568, -0.0018831243726112063, -0.00165406135637021, -0.0014088283937079668, -0.0011475486799071317, -0.0008703912682241368, -0.0005775729150501591, -0.0002693561144735601, 5.394884024923567e-05, 0.0003919852095388276, 0.0007443502445440355, 0.001110594715267963, 0.0014902249387647947, 0.0018827024728059862, 0.002287444537794889, 0.0027038268446094556, 0.003131183509291121, 0.003568808646277179, 0.00401595841064011, 0.004471851899083262, 0.004935673341810784, 0.005406574417522418, 0.00588367578359122, 0.006366069308162302, 0.006852820146085464, 0.00734297015619147, 0.007835539113893668, 0.008329527857815319, 0.008823921569447165, 0.009317691043930931, 0.009809797242994339, 0.010299192929472574, 0.010784825734462272, 0.011265641884164615, 0.011740588028452636, 0.012208615036598536, 0.012668681641777212, 0.013119755762411436, 0.013560818686091866, 0.013990867755565323, 0.014408919194699716, 0.014814011377353626, 0.015205207504610402, 0.01558159822350654, 0.015942304293440072, 0.016286479597041045, 0.016613313931268865, 0.016922034059775905, 0.017211907866895408, 0.017482245360514043, 0.017732400995572672, 0.017961776387802542, 0.018169820989483363, 0.018356034503017177, 0.018519968628161323, 0.018661227301163208, 0.018779469470368366, 0.018874409082626043, 0.018945815736606933, 0.01899351653440454, 0.01901739585834042, 0.01901739585834042, 0.01899351653440454, 0.018945815736606933, 0.018874409082626043, 0.018779469470368366, 0.018661227301163208, 0.018519968628161323, 0.018356034503017177, 0.018169820989483363, 0.017961776387802542, 0.017732400995572672, 0.017482245360514043, 0.017211907866895408, 0.016922034059775905, 0.016613313931268865, 0.016286479597041045, 0.015942304293440072, 0.01558159822350654, 0.015205207504610402, 0.014814011377353626, 0.014408919194699716, 0.013990867755565323, 0.013560818686091866, 0.013119755762411436, 0.012668681641777212, 0.012208615036598536, 0.011740588028452636, 0.011265641884164615, 0.010784825734462272, 0.010299192929472574, 0.009809797242994339, 0.009317691043930931, 0.008823921569447165, 0.008329527857815319, 0.007835539113893668, 0.00734297015619147, 0.006852820146085464, 0.006366069308162302, 0.00588367578359122, 0.005406574417522418, 0.004935673341810784, 0.004471851899083262, 0.00401595841064011, 0.003568808646277179, 0.003131183509291121, 0.0027038268446094556, 0.002287444537794889, 0.0018827024728059862, 0.0014902249387647947, 0.001110594715267963, 0.0007443502445440355, 0.0003919852095388276, 5.394884024923567e-05, -0.0002693561144735601, -0.0005775729150501591, -0.0008703912682241368, -0.0011475486799071317, -0.0014088283937079668, -0.00165406135637021, -0.0018831243726112063, -0.002095940146321568, -0.0022924769248410543, -0.002472747925813044, -0.002636809993070706, -0.0027847626182153215, -0.0029167474742208435, -0.003032946993671481, -0.0031335821219774726, -0.003218912284733315, -0.003289232874368183, -0.003344873596070147, -0.0033861981461099314, -0.0034136007864180563, -0.0034275044895075595, -0.003428360807189752, -0.003416645621806906, -0.003392859209565906, -0.0033575226196335462, -0.0033111758398641803, -0.0032543767737191354, -0.0031876976484896714, -0.0031117240585809137, -0.003027052253804439, -0.0029342873301869236, -0.002834040135533858, -0.0027269262238087265, -0.002613563982195096, -0.00249457182597097, -0.002370566047236584, -0.0022421604213003514, -0.002109962264446582, -0.0019745719697465683, -0.001836581486791034, -0.001696570740309908, -0.0015551080944712647, -0.0014127487242166668, -0.0012700312710060401, -0.0011274791565264585, -0.0009855960333288306, -0.0008448681831663669, -0.000705760925274158, -0.000568718842434148, -0.00043416394930869377, -0.00030249624475853687, -0.00017409155571845365, -4.9301919756571504e-05, 7.154505492444414e-05, 0.0001881459711476104, 0.000300224374753822, 0.0004075280740447332, 0.0005098302404655923, 0.0006069300784739117, 0.0006986516869906381, 0.000784843867595921, 0.0008653824629454943, 0.0009401649367092066, 0.0010091154319575473, 0.0010721803172798212, 0.0011293300043333098, 0.00118055673284575, 0.0012258740974081964, 0.0012653171487637257, 0.0012989415749727153, 0.0013268218251929755, 0.0013490505795957736, 0.001365738120472631, 0.0013770115215060877, 0.001383012199037026, 0.001383896943251713, 0.0013798362613040994, 0.0013710115270009595, 0.0013576153019868428, 0.001339852020685212, 0.0013179324657657018, 0.001292077691634767, 0.0012625140208967665, 0.0012294725678956178, 0.001193191066542541, 0.0011539090380505452, 0.001111870097936578, 0.0010673176042479264, 0.001020496504714217, 0.0009716511624634276, 0.0009210247080464222, 0.0008688567684746665, 0.0008153846272593265, 0.0007608423435857977, 0.0007054591516462241, 0.0006494577135775856, 0.000593056317451037, 0.0005364659720687398, 0.0004798888323513912, 0.0004235218135085702, 0.0003675535501186848, 0.0003121612704730071, 0.0002575173849884562, 0.0002037801556877916, 0.0001511023941296525, 9.962521016964298e-05, 4.94804635219815e-05, 7.88903452670724e-07, -4.633868409715177e-05, -9.180099440090271e-05, -0.00013550655086084232, -0.000177375187541119, -0.00021733694407269585, -0.00025533094137095657, -0.00029130552619741247, -0.0003252209156214525, -0.0003570460096152692, -0.00038675663440899033, -0.0004143388635571406, -0.0004397892925832344, -0.000463107021208338, -0.00048430605225522423, -0.0005034039168577735, -0.0005204252566628187, -0.0005354033313789778, -0.0005483737762666043, -0.0005593823709103101, -0.0005684777268323102, -0.0005757158811241985, -0.0005811541601575636, -0.0005848555869165053, -0.0005868861412606574, -0.0005873177766509932, -0.000586222389538032, -0.0005836740308834696, -0.0005797487461952014, -0.0005745280312631689, -0.0005680903881190914, -0.0005605138284191173, -0.0005518826847558276, -0.0005422780544034942, -0.0005317756111437639, -0.0005204623890807754, -0.0005084096658755629, -0.000495700893003096, -0.0004824086514676552, -0.0004686116616885506, -0.0004543807756507734, -0.00043978878543547863, -0.00042490033982944646, -0.0004097825852050697, -0.00039449686343574113, -0.00037910801434725355, -0.0003636714730907177, -0.00034824206083327507, -0.00033286628283542833, -0.0003175986068770933, -0.0003024842389833701, -0.00028756343567497994, -0.00027286740200684225, -0.00025844941646133347, -0.00024432297656738327, -0.00023052970488306057, -0.0002170908802727957, -0.0002040301527045332, -0.00019136796043468655, -0.00017912116790856248, -0.00016730326288356807, -0.0001559272708763925, -0.00014500106192873673, -0.00013453516530052142, -0.0001245326283293516, -0.00011499960238613648, -0.00010592953167008798, -9.732098790840929e-05, -8.916156578986489e-05, -8.145920541335811e-05, -7.420871054394128e-05, -6.741273186356916e-05, -6.101666766354836e-05, -5.5049036511914465e-05, -4.9504769343878154e-05, -4.432800053974478e-05, -3.9551866009495555e-05, -3.5127379045951525e-05, -3.106325462603091e-05, -2.7327653836455885e-05, -2.391911543272609e-05, -2.08111343653397e-05, -1.7999534739111e-05, -1.5461311470961426e-05, -1.3192773430652133e-05, -1.1175657317622391e-05, -9.410751706610872e-06, -7.889250609121168e-06, -6.624918865044291e-06, -5.630815951783226e-06, -4.95334004980347e-06, -4.658045197330031e-06, -4.8729383376122236e-06, 9.824728598345879e-06]

	taps = [0,0] + taps + [0,0]
	#taps = list(resample_poly(taps, 2, 1, window=('blackman')))
	taps = list(resample(taps, 1024))

	nTaps = 1024
	depthOrder = 10
	coeffBits = 18
	entityName = 'windowMultiply1024_64'

maxTap = 0
for t in taps:
	if abs(t) > maxTap:
		maxTap = abs(t)


print '''

library ieee;
library work;
use ieee.numeric_std.all;
use ieee.std_logic_1164.all;
use work.fft_types.all;

-- delay is 5 cycles

entity {entityName:s} is
	generic(dataBits, outBits: integer := 18);
	port(clk: in std_logic;
			din: in complex;
			index: in unsigned({depthOrder:d}-1 downto 0);
			dout: out complex
			);
end entity;
architecture a of {entityName:s} is
	constant romDepthOrder: integer := {depthOrder:d};
	constant romDepth: integer := 2**romDepthOrder;
	constant romWidth: integer := {coeffBits:d};
	--ram
	type ram1t is array(0 to romDepth-1) of
		std_logic_vector(romWidth-1 downto 0);
	signal rom: ram1t;
	signal addr1: unsigned(romDepthOrder-1 downto 0);
	signal data0, data1, data2: std_logic_vector(romWidth-1 downto 0);
	signal coeff: signed(romWidth-1 downto 0);

	signal din1, din2, din3: complex;

	-- multiplier
	signal multOutRe, multOutIm: signed(dataBits+romWidth-1 downto 0);
	signal multOut, multOut1: complex;

	attribute keep: string;
	attribute keep of din2: signal is "true";
	attribute keep of data2: signal is "true";
begin
	-- coefficient rom
	addr1 <= index; -- when rising_edge(clk);
	data0 <= rom(to_integer(addr1));
	data1 <= data0 when rising_edge(clk);
	data2 <= data1 when rising_edge(clk);
	coeff <= signed(data2) when rising_edge(clk);

	-- delay data
	din1 <= din when rising_edge(clk);
	din2 <= din1 when rising_edge(clk);
	din3 <= din2 when rising_edge(clk);

	-- multiply
	multOutRe <= coeff * complex_re(din3, dataBits);
	multOutIm <= coeff * complex_im(din3, dataBits);

	multOut <= to_complex(multOutRe(multOutRe'left downto multOutRe'left-outBits+1),
						multOutIm(multOutIm'left downto multOutIm'left-outBits+1));
	multOut1 <= multOut when rising_edge(clk);
	dout <= multOut1 when rising_edge(clk);

	-- rom
	rom <= ('''.format(**locals())

scale = (2**(coeffBits-1) - 1)/maxTap
fullScale = 2**coeffBits
fmt = '{0:0' + str(coeffBits) + 'b}'
for i in xrange(nTaps):
	x = taps[i]
	x = int(round(x*scale));

	if x < 0:
		x += fullScale
	if x > scale:
		x = scale

	if i != 0:
		print ',',
	if i%10==0: print;
	print '"' + fmt.format(x) + '"', 

print '''
);
end a;
'''

